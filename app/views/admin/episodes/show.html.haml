- model_class = Episode
.page-header
  %h1=t '.title', :default => model_class.model_name.human
%p
  %strong= model_class.human_attribute_name(:title) + ':'
  %br
  =raw @episode.title
%p
  %strong= model_class.human_attribute_name(:description) + ':'
  %br
  =raw @episode.description
%p
  %strong= model_class.human_attribute_name(:live) + ':'
  %br
  = @episode.live

.form-actions
  = link_to t('.back', :default => t("helpers.links.back")), [:admin, @channel], :class => 'btn'
  = link_to t('.edit', :default => t("helpers.links.edit")), [:edit, :admin, @channel, @episode], :class => 'btn'
  = link_to t('.destroy', :default => t("helpers.links.destroy")), [:admin, @channel, @episode], :method => "delete", :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-danger'


/ =render @questions
.span12
  %ul#questions
    =render :partial => '/questions/question', :collection => @episode.questions, :as => :question
.span12
  %ul#available



- @episode_clean = @episode.id.to_s + @episode.title.downcase.strip.gsub(' ', '-').gsub(/[^\w-]/, '') + "/episode/questions/admin"
:javascript
  $(function(){
    var faye = new Faye.Client('http://localhost:9292/faye');
    faye.subscribe("/#{@episode_clean.to_s}", function(data) {
      eval(data);
    });
    faye.subscribe("/available", function(data) {
      eval(data);
    });
  })